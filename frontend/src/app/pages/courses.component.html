<div class="courses-page-dark">
  <!-- Animated Background -->
  <div class="animated-bg">
    <div class="gradient-orb orb-1"></div>
    <div class="gradient-orb orb-2"></div>
    <div class="gradient-orb orb-3"></div>
  </div>

  <!-- Hero Section with Glassmorphism -->
  <div class="hero-glass" role="banner" aria-label="Courses overview">
    <div class="hero-content-wrapper">
      <div class="hero-badge-glow">
        <mat-icon aria-hidden="true">auto_awesome</mat-icon>
        <span>Premium Learning Experience</span>
      </div>
      <h1 class="hero-title-gradient">
        Discover Amazing Courses
      </h1>
      <p class="hero-subtitle-light">
        Level up your skills with expert-led courses designed for success
      </p>
      
      <!-- Stats with Glow Effect -->
      <div class="stats-glow-container" role="list" aria-label="Course statistics">
        <div class="stat-glow-item" role="listitem">
          <div class="stat-number-glow" [attr.aria-label]="filteredData.length + ' plus active courses'">{{filteredData.length}}+</div>
          <div class="stat-label-glow">Active Courses</div>
        </div>
        <div class="stat-divider-glow" aria-hidden="true"></div>
        <div class="stat-glow-item" role="listitem">
          <div class="stat-number-glow" aria-label="Over 50 expert instructors">50+</div>
          <div class="stat-label-glow">Expert Instructors</div>
        </div>
        <div class="stat-divider-glow" aria-hidden="true"></div>
        <div class="stat-glow-item" role="listitem">
          <div class="stat-number-glow" aria-label="Over 5000 happy students">5K+</div>
          <div class="stat-label-glow">Happy Students</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Glassmorphism Filter Bar -->
  <div class="filter-glass-bar" role="search" aria-label="Search and filter courses">
    <div class="filter-container-glass">
      <div class="search-glass-wrapper">
        <mat-icon class="search-icon-glow" aria-hidden="true">search</mat-icon>
        <input type="text" placeholder="Search courses..." class="search-input-glass" aria-label="Search courses by name or description">
      </div>
      
      <mat-form-field appearance="outline" class="filter-glass-field">
        <mat-select [(ngModel)]="selectedCategory" (ngModelChange)="onFilterChange()" placeholder="Category" aria-label="Filter by course category">
          <mat-option *ngFor="let cat of categoryOptions" [value]="cat.value">
            {{cat.label}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="outline" class="filter-glass-field">
        <mat-select [(ngModel)]="selectedDuration" (ngModelChange)="onFilterChange()" placeholder="Duration" aria-label="Filter by course duration">
          <mat-option *ngFor="let dur of durationOptions" [value]="dur.value">
            {{dur.label}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </div>

  <!-- Course Cards with Glow Effects -->
  <div class="courses-container-dark">
    <!-- Skeleton Loaders -->
    <div class="courses-grid-glow" *ngIf="isLoading">
      <div *ngFor="let i of [1,2,3,4,5,6]" class="course-card-glow">
        <div class="skeleton-header skeleton"></div>
        <div class="card-glass-content skeleton-course-card">
          <div class="skeleton-title skeleton" style="margin: 0 auto;"></div>
          <div class="skeleton-meta">
            <div class="skeleton-text-short skeleton"></div>
            <div class="skeleton-text-short skeleton"></div>
          </div>
          <div class="skeleton-text skeleton"></div>
          <div class="skeleton-text-medium skeleton"></div>
          <div class="skeleton-features">
            <div class="skeleton-badge skeleton"></div>
            <div class="skeleton-badge skeleton"></div>
          </div>
          <div class="skeleton-button skeleton" style="width: 100%; margin-top: auto;"></div>
        </div>
      </div>
    </div>

    <div class="courses-grid-glow" *ngIf="!isLoading && filteredData.length > 0" role="list" aria-label="Available courses">
      <article *ngFor="let course of filteredData; let i = index" 
           class="course-card-glow"
           [style.animation-delay]="(i * 0.1) + 's'"
           role="listitem">
        
        <!-- Gradient Border Animation -->
        <div class="card-border-gradient" [style.background]="'linear-gradient(135deg, ' + getCategoryColor(course.category) + ' 0%, ' + getCategoryColor(course.category) + '80 100%)'" aria-hidden="true"></div>
        
        <!-- Course Header Image -->
        <div class="course-header-image" 
             appLazyImage 
             [backgroundImage]="getCategoryImage(course.category)"
             role="img"
             [attr.aria-label]="course.category + ' course category image'">
          <div class="course-header-overlay" aria-hidden="true"></div>
          <!-- Category Badge with Glow -->
          <div class="category-badge-glow" [style.background]="'rgba(' + (course.category === 'Programming' ? '102, 126, 234' : course.category === 'Design' ? '240, 147, 251' : course.category === 'Business' ? '79, 172, 254' : course.category === 'Data Science' ? '67, 233, 123' : '250, 112, 154') + ', 0.2)'" [style.border-color]="getCategoryColor(course.category) + '50'">
            <mat-icon aria-hidden="true">{{getCategoryIcon(course.category)}}</mat-icon>
            <span>{{course.category}}</span>
          </div>
        </div>
        
        <!-- Card Content -->
        <div class="card-glass-content">
          <!-- Course Info -->
          <h3 class="course-title-glow">{{course.title}}</h3>
          
          <div class="course-meta-dark" role="list" aria-label="Course details">
            <div class="meta-item-glow" role="listitem">
              <mat-icon aria-hidden="true">person</mat-icon>
              <span>{{course.instructor}}</span>
            </div>
            <div class="meta-item-glow" role="listitem">
              <mat-icon aria-hidden="true">schedule</mat-icon>
              <span>{{course.duration}}</span>
            </div>
          </div>

          <p class="course-desc-light">{{course.description}}</p>

          <!-- Features with Icons -->
          <div class="features-glow" role="list" aria-label="Course features">
            <div class="feature-chip-glow" role="listitem">
              <mat-icon aria-hidden="true">verified</mat-icon>
              <span>Certified</span>
            </div>
            <div class="feature-chip-glow" role="listitem">
              <mat-icon aria-hidden="true">support</mat-icon>
              <span>24/7 Support</span>
            </div>
          </div>

          <!-- Enroll Button with Gradient -->
          <button mat-raised-button (click)="enrollCourse(course)" class="enroll-btn-gradient" [attr.aria-label]="'Enroll in ' + course.title + ' course'">
            <span>Enroll Course</span>
            <mat-icon aria-hidden="true">arrow_forward</mat-icon>
          </button>
        </div>
      </article>
    </div>

    <!-- Empty State with Glow -->
    <div class="empty-state-glow" *ngIf="!isLoading && filteredData.length === 0" role="status" aria-live="polite">
      <div class="empty-icon-glow" aria-hidden="true">
        <mat-icon>school</mat-icon>
      </div>
      <h3>No Courses Found</h3>
      <p>Try adjusting your filters to discover more courses</p>
      <button mat-raised-button (click)="selectedCategory='all'; selectedDuration='all'; onFilterChange()" class="reset-btn-gradient" aria-label="Reset all filters to show all courses">
        <mat-icon aria-hidden="true">refresh</mat-icon>
        <span>Reset Filters</span>
      </button>
    </div>
  </div>
</div>
